#include <iostream>
using namespace std;

struct stack
{
    char data;
    stack *next;
}*top=NULL,*temp,*newnode;

int precedenece(char op)
{
    if(op=='^')
    {
        return 3;
    }
    else if(op=='*'||op=='/')
    {
        return 2;
    }
    else if(op=='+'||op=='-')
    {
        return 1;
    }
    else
    {
        return 0;
    }
}

void push(char op)
{
    newnode= new stack;
    newnode->data=op;
    newnode->next=top;
    top=newnode;
}

char pop()
{
    char op;
    temp=top;
    top=top->next;
    op=temp->data;
    delete temp;
    return op;
}

void infixTopost(string infix)
{
    string p;
    int i=0;
    push('(');
    infix.append(")");
    while(top!=NULL)
    {
        if(isalpha(infix[i]))
        {
            p+=infix[i];
        }
        else if(infix[i]=='(')
        {
            push('(');
        }
        else if(infix[i]=='*'||infix[i]=='/'||infix[i]=='-'||infix[i]=='+'||infix[i]=='^')
        {
            while(precedenece(top->data)>=precedenece(infix[i]))
            {
                p+=pop();
            }
            push(infix[i]);
        }
        else
        {
            while(top->data!='(')
            {
                p+=pop();
            }
            pop();
        }
        i++;
    }
    cout<<"\n Postfix expression is "<<p;
}

int main()
{
    string infix;
    cout<<"Enter the Infix Expression";
    cin>>infix;
    infixTopost(infix);
}
